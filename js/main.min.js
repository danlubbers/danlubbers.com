(function(e,t,n){"use strict";function J(){C===!1&&Y(o);setTimeout(function(){J()},3e3)}function K(t,n){if(n>=500){D=_.outerHeight()===0?59:_.outerHeight();H=P.outerHeight()===0?48:P.outerHeight();F=t-(H+D+40);I=c.hasClass("touch")?t-(H+D+100):t-(H+D+40);j.each(function(){var t=e(this);t.css({"max-height":I+"px"})});B.css({height:F+"px"});B.hammer()}else{j.each(function(){var t=e(this);t.css({"max-height":"100%"})});B.css({height:"auto"})}}function Q(){e("<option />",{selected:"selected",value:"",text:"Go to..."}).appendTo(v);g.each(function(){var t=e(this),n=t.find("a");e("<option />",{value:n.attr("href"),text:t.text()}).appendTo(v)});if(h.hasClass("index")){T.remove();N.remove();J()}else{z.eq(0).addClass(u);G(z.eq(0))}K(O,M)}function G(e){W=e.attr("data-title");X=e.attr("data-subtitle");R.html(W+"&nbsp;<b>"+X+"</b>")}function Y(t){L=U.find(".current");A=L.index();if(t===s){L.removeClass(a).removeClass(u);if(A>0){z.eq(A-1).removeClass(a).addClass(u);G(z.eq(A-1))}else if(A===0){z.each(function(){var t=e(this),n=t.index();n>0&&n<z.length-1&&t.addClass(a)});z.eq(z.length-1).addClass(u);G(z.eq(z.length-1))}else{z.eq(z.length-1).removeClass(a).addClass(u);G(z.eq(z.length-1))}}else{L.removeClass(u).addClass(a);if(A<z.length-1){z.eq(parseFloat(A+1)).removeClass(a).addClass(u);G(z.eq(parseFloat(A+1)))}else{z.eq(0).removeClass(a).addClass(u);G(z.eq(0));z.each(function(){e(this).removeClass(a)})}}}var r="active",i="show",s="previous",o="next",u="current",a="past",f=function(){},l=t.console||{log:f,warn:f,error:f},c=e("html"),h=e("body"),p=e("nav"),d=e("<select />").appendTo(p),v=p.find("select"),m=p.find("#sub-nav"),g=m.find("li"),y=e("#portfolio-menu"),b=e("#about"),w=e("#about-link"),E=e("#contact"),S=e("#contact-link"),x=e(".close"),T=e(".prev"),N=e(".next"),C=!1,k,L,A,O=e(t).height(),M=e(t).innerWidth(),_=e("header"),D,P=e("footer"),H,B=e("#content"),j=B.find("img"),F,I,q=e("#info"),R=q.find("span"),U=B.find("figure"),z=U.find("img"),W,X,V,$=0;B.on("swipe",function(e){e.preventDefault();e.direction==="left"?Y(o):Y(s)});T.on("click",function(e){e.preventDefault();Y(s)});N.on("click",function(e){e.preventDefault();Y(o)});v.change(function(){window.location=e(this).find("option:selected").val()});w.on("click",function(t){t.preventDefault();e(this).addClass(r);S.removeClass(r);b.addClass(i);E.removeClass(i)});y.on("click",function(t){t.preventDefault();e(this).closest("li").toogleClass("show")});S.on("click",function(t){t.preventDefault();e(this).addClass(r);w.removeClass(r);E.addClass(i);b.removeClass(i)});x.click(function(t){t.preventDefault();e(this).parent().removeClass(i);w.removeClass(r);S.removeClass(r)});e(n.documentElement).keyup(function(e){if(e.keyCode===27){w.removeClass(r);S.removeClass(r);b.removeClass(i);E.removeClass(i);V.remove()}});e(document.documentElement).keyup(function(e){e.keyCode===37?h.hasClass("index")||Y(s):e.keyCode===39&&(h.hasClass("index")||Y(o))});U.on("contextmenu",function(t){t.preventDefault();h.append('<div id="warning"><p>All images are copyrighted. Please contact me to obtain a copy</p></div>');V=e("#warning");V.find("a").on("click",function(e){e.stopPropagation()});V.on("click",function(){e(this).remove()})});z.on("mousedown",function(e){e.preventDefault();return!1});Q();e(t).resize(function(){var t=e(this);M=t.innerWidth();O=t.outerHeight();K(O,M)})})(jQuery,window,document);