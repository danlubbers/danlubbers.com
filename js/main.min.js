function getElementsByClassName(e,t,n){var r=t==="*"&&e.all?e.all:e.getElementsByTagName(t),i=[];n=n.replace(/\-/g,"\\-");var s=new RegExp("(^|\\s)"+n+"(\\s|$)"),o;for(var u=0;u<r.length;u++){o=r[u];s.test(o.className)&&i.push(o)}return i}function addClassName(e,t,n){if(e.className){var r=e.className.split(" ");if(n){var i=t.toUpperCase();for(var s=0;s<r.length;s++)if(r[s].toUpperCase()===i){r.splice(s,1);s--}}r[r.length]=t;e.className=r.join(" ")}else e.className=t}function removeClassName(e,t){if(e.className){var n=e.className.split(" "),r=t.toUpperCase();for(var i=0;i<n.length;i++)if(n[i].toUpperCase()===r){n.splice(i,1);i--}e.className=n.join(" ")}}function disableSubmitButton(){document.getElementById("saveForm").disabled=!0}function highlight(e,t){var n;t===2&&(n=e.parentNode.parentNode);t===3&&(n=e.parentNode.parentNode.parentNode);t===4&&(n=e.parentNode.parentNode.parentNode.parentNode);addClassName(n,"focused",!0);var r=getElementsByClassName(document,"*","focused");for(var i=0;i<r.length;i++)r[i]!==n&&removeClassName(r[i],"focused")}function initializeFocus(){var e=getElementsByClassName(document,"*","field");for(var t=0;t<e.length;t++)if(e[t].type==="radio"||e[t].type==="checkbox"){e[t].onclick=function(){highlight(this,4)};e[t].onfocus=function(){highlight(this,4)}}else e[t].className.match("addr")||e[t].className.match("other")?e[t].onfocus=function(){highlight(this,3)}:e[t].onfocus=function(){highlight(this,2)}}function ifInstructs(){var e=document.getElementById("public");if(e){removeClassName(e,"noI");var t=getElementsByClassName(document,"*","instruct");t===""&&addClassName(e,"noI",!0);e.offsetWidth<=450&&addClassName(e,"altInstruct",!0)}}function showRangeCounters(){var e=getElementsByClassName(document,"em","currently");for(var t=0;t<e.length;t++)e[t].style.display="inline"}function validateRange(e,t){if(document.getElementById("rangeUsedMsg"+e)){var n=document.getElementById("Field"+e),r=document.getElementById("rangeUsedMsg"+e);switch(t){case"character":r.innerHTML=n.value.length;break;case"word":var i=n.value;i=i.replace(/\n/g," ");var s=i.split(" "),o=0;for(var u=0;u<s.length;u++)s[u].replace(/\s+$/,"")!==""&&o++;r.innerHTML=o;break;case"digit":r.innerHTML=n.value.length}}}function addEvent(e,t,n){if(e.attachEvent){e["e"+t+n]=n;e[t+n]=function(){e["e"+t+n](window.event)};e.attachEvent("on"+t,e[t+n])}else e.addEventListener(t,n,!1)}function initForm(){initializeFocus();var e=document.getElementsByTagName("form")[0];addEvent(e,"submit",disableSubmitButton);ifInstructs();showRangeCounters()}var highlight_array=[];addEvent(window,"load",initForm);(function(e,t,n){"use strict";function B(){T===!1&&I(o);setTimeout(function(){B()},3e3)}function j(){e("<option />",{selected:"selected",value:"",text:"Go to..."}).appendTo(d);m.each(function(){var t=e(this);e("<option />",{value:t.attr("href"),text:t.text()}).appendTo(d)});if(c.hasClass("index")){S.remove();x.remove();B()}else{_.eq(0).addClass(u);F(_.eq(0))}}function F(e){D=e.attr("data-title");P=e.attr("data-subtitle");O.html(D+"&nbsp;<b>"+P+"</b>")}function I(t){C=M.find(".current");k=C.index();if(t===s){C.removeClass(a).removeClass(u);if(k>0){_.eq(k-1).removeClass(a).addClass(u);F(_.eq(k-1))}else if(k===0){_.each(function(){var t=e(this),n=t.index();l.log(t.index());n>0&&n<_.length-1&&t.addClass(a)});_.eq(_.length-1).addClass(u);F(_.eq(_.length-1))}else{_.eq(_.length-1).removeClass(a).addClass(u);F(_.eq(_.length-1))}}else{C.removeClass(u).addClass(a);if(k<_.length-1){_.eq(parseFloat(k+1)).removeClass(a).addClass(u);F(_.eq(parseFloat(k+1)))}else{_.eq(0).removeClass(a).addClass(u);F(_.eq(0));_.each(function(){e(this).removeClass(a)})}}}var r="active",i="show",s="previous",o="next",u="current",a="past",f=function(){},l=t.console||{log:f,warn:f,error:f},c=e("body"),h=e("nav"),p=e("<select />").appendTo(h),d=h.find("select"),v=h.find("#sub-nav"),m=v.find("li"),g=e("#about"),y=e("#about-link"),b=e("#contact"),w=e("#contact-link"),E=e(".close"),S=e(".prev"),x=e(".next"),T=!1,N,C,k,L=e("#content"),A=e("#info"),O=A.find("span"),M=L.find("figure"),_=M.find("img"),D,P,H=0;S.on("click",function(e){e.preventDefault();I(s)});x.on("click",function(e){e.preventDefault();I(o)});d.change(function(){window.location=e(this).find("option:selected").val()});y.on("click",function(t){t.preventDefault();e(this).addClass(r);w.removeClass(r);g.addClass(i);b.removeClass(i)});w.on("click",function(t){t.preventDefault();e(this).addClass(r);y.removeClass(r);b.addClass(i);g.removeClass(i)});E.click(function(t){t.preventDefault();e(this).parent().removeClass(i);y.removeClass(r);w.removeClass(r)});e(n.documentElement).keyup(function(e){if(e.keyCode===27){y.removeClass(r);w.removeClass(r);g.removeClass(i);b.removeClass(i)}});e(document.documentElement).keyup(function(e){e.keyCode===37?c.hasClass("index")||I(s):e.keyCode===39&&(c.hasClass("index")||I(o))});j()})(jQuery,window,document);