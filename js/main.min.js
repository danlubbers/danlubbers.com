(function(e,t,n){"use strict";function X(){N===!1&&K(o);setTimeout(function(){X()},3e3)}function V(t,n){if(n>=500){_=M.outerHeight()===0?59:M.outerHeight();P=D.outerHeight()===0?48:D.outerHeight();j=t-(P+_+40);B.each(function(){var t=e(this);t.css({"max-height":j+"px"})});H.css({height:j+"px"});H.hammer()}else{B.each(function(){var t=e(this);t.css({"max-height":"100%"})});H.css({height:"auto"})}}function $(){e("<option />",{selected:"selected",value:"",text:"Go to..."}).appendTo(d);m.each(function(){var t=e(this),n=t.find("a");e("<option />",{value:n.attr("href"),text:t.text()}).appendTo(d)});if(c.hasClass("index")){x.remove();T.remove();X()}else{R.eq(0).addClass(u);J(R.eq(0))}V(A,O)}function J(e){U=e.attr("data-title");z=e.attr("data-subtitle");I.html(U+"&nbsp;<b>"+z+"</b>")}function K(t){k=q.find(".current");L=k.index();if(t===s){k.removeClass(a).removeClass(u);if(L>0){R.eq(L-1).removeClass(a).addClass(u);J(R.eq(L-1))}else if(L===0){R.each(function(){var t=e(this),n=t.index();l.log(t.index());n>0&&n<R.length-1&&t.addClass(a)});R.eq(R.length-1).addClass(u);J(R.eq(R.length-1))}else{R.eq(R.length-1).removeClass(a).addClass(u);J(R.eq(R.length-1))}}else{k.removeClass(u).addClass(a);if(L<R.length-1){R.eq(parseFloat(L+1)).removeClass(a).addClass(u);J(R.eq(parseFloat(L+1)))}else{R.eq(0).removeClass(a).addClass(u);J(R.eq(0));R.each(function(){e(this).removeClass(a)})}}}var r="active",i="show",s="previous",o="next",u="current",a="past",f=function(){},l=t.console||{log:f,warn:f,error:f},c=e("body"),h=e("nav"),p=e("<select />").appendTo(h),d=h.find("select"),v=h.find("#sub-nav"),m=v.find("li"),g=e("#portfolio-menu"),y=e("#about"),b=e("#about-link"),w=e("#contact"),E=e("#contact-link"),S=e(".close"),x=e(".prev"),T=e(".next"),N=!1,C,k,L,A=e(t).height(),O=e(t).innerWidth(),M=e("header"),_,D=e("footer"),P,H=e("#content"),B=H.find("img"),j,F=e("#info"),I=F.find("span"),q=H.find("figure"),R=q.find("img"),U,z,W=0;H.on("swipe",function(e){e.preventDefault();l.log(e.direction);e.direction==="left"?K(s):K(o)});x.on("click",function(e){e.preventDefault();K(s)});T.on("click",function(e){e.preventDefault();K(o)});d.change(function(){window.location=e(this).find("option:selected").val()});b.on("click",function(t){t.preventDefault();e(this).addClass(r);E.removeClass(r);y.addClass(i);w.removeClass(i)});g.on("click",function(t){t.preventDefault();e(this).closest("li").toogleClass("show")});E.on("click",function(t){t.preventDefault();e(this).addClass(r);b.removeClass(r);w.addClass(i);y.removeClass(i)});S.click(function(t){t.preventDefault();e(this).parent().removeClass(i);b.removeClass(r);E.removeClass(r)});e(n.documentElement).keyup(function(e){if(e.keyCode===27){b.removeClass(r);E.removeClass(r);y.removeClass(i);w.removeClass(i)}});e(document.documentElement).keyup(function(e){e.keyCode===37?c.hasClass("index")||K(s):e.keyCode===39&&(c.hasClass("index")||K(o))});$();e(t).resize(function(){var t=e(this);O=t.innerWidth();A=t.outerHeight();V(A,O)})})(jQuery,window,document);